<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>CLI configuration · Build Tracker</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="&lt;p&gt;The Build Tracker CLI is easily configured using a &lt;a href=&quot;https://github.com/davidtheclark/cosmiconfig&quot;&gt;cosmiconfig&lt;/a&gt; compatible file.&lt;/p&gt;
"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="CLI configuration · Build Tracker"/><meta property="og:type" content="website"/><meta property="og:url" content="https://buildtracker.dev/"/><meta property="og:description" content="&lt;p&gt;The Build Tracker CLI is easily configured using a &lt;a href=&quot;https://github.com/davidtheclark/cosmiconfig&quot;&gt;cosmiconfig&lt;/a&gt; compatible file.&lt;/p&gt;
"/><meta property="og:image" content="https://buildtracker.dev/img/ogImage.png"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://buildtracker.dev/img/logo.png"/><link rel="shortcut icon" href="/img/favicon.png"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/tomorrow-night.min.css"/><link rel="alternate" type="application/atom+xml" href="https://buildtracker.dev/blog/atom.xml" title="Build Tracker Blog ATOM Feed"/><link rel="alternate" type="application/rss+xml" href="https://buildtracker.dev/blog/feed.xml" title="Build Tracker Blog RSS Feed"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><link rel="stylesheet" href="/css/main.css"/><script src="/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/"><img class="logo" src="/img/logo.svg" alt="Build Tracker"/><h2 class="headerTitleWithLogo">Build Tracker</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="siteNavGroupActive"><a href="/docs/installation" target="_self">Docs</a></li><li class=""><a href="https://build-tracker-demo.herokuapp.com" target="_self">Demo</a></li><li class=""><a href="https://github.com/paularmstrong/build-tracker" target="_self">GitHub</a></li><li class=""><a href="/blog/" target="_self">Blog</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>Configuration</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle">Getting Started</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/installation">Getting Started</a></li><li class="navListItem"><a class="navItem" href="/docs/budgets">Performance Budgets</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Configuration</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/configuration-app">Application</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/docs/configuration-cli">CLI</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Plugins</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/plugins/plugins">Plugins</a></li><li class="navListItem"><a class="navItem" href="/docs/plugins/withPostgres">Postgres</a></li><li class="navListItem"><a class="navItem" href="/docs/plugins/withMariadb">MariaDB</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Contributing</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/contributing">Getting started</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              const headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                if (event.target.tagName === 'A') {
                  document.body.classList.remove('tocActive');
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="https://github.com/paularmstrong/build-tracker/tree/next/docs/docs/confirmation-cli.md" target="_blank" rel="noreferrer noopener">Edit</a><h1 class="postHeaderTitle">CLI configuration</h1></header><article><div><span><p>The Build Tracker CLI is easily configured using a <a href="https://github.com/davidtheclark/cosmiconfig">cosmiconfig</a> compatible file.</p>
<p>Starting from the current working directory, it will look for the following possible sources, in this order:</p>
<ol>
<li>a <code>build-tracker</code> property in your <code>package.json</code></li>
<li>a <code>.build-tracerrc</code> file</li>
<li>a <code>build-tracker.config.js</code> file exporting a JS object</li>
</ol>
<p>The .<code>.build-trackerrc</code> file (without extension) can be in JSON or YAML format.</p>
<p>Alternately, you can add a filename extension to designate JSON, YAML, or JS format: <code>.build-trackerrc.json</code>, <code>.build-trackerrc.yaml</code>, <code>.build-trackerrc.yml</code>, <code>.build-trackerrc.js</code>. You may want to use an extension so that your text editor can better interpret the file, and help with syntax checking and highlighting.</p>
<p>Once one of these is found and parsed, the search will stop and that object will be used.</p>
<p>The configuration search can also be short-circuited by passing a <code>--config</code> argument with a path to your configuration file.</p>
<h2><a class="anchor" aria-hidden="true" id="options"></a><a href="#options" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Options</h2>
<h3><a class="anchor" aria-hidden="true" id="applicationurl-string"></a><a href="#applicationurl-string" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>applicationUrl: string</code></h3>
<p>The full URL (with scheme) to your application. New builds will be posted to the API available at this URL</p>
<pre><code class="hljs css language-js"><span class="hljs-built_in">module</span>.exports = {
  <span class="hljs-attr">applicationUrl</span>: <span class="hljs-string">'https://build-tracker-demo.herokuapp.com'</span>,
  <span class="hljs-comment">// OR, if you're running from a subdirectory</span>
  applicationUrl: <span class="hljs-string">'https://mysite.dev/build-tracker'</span>
};
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="artifacts-array-string"></a><a href="#artifacts-array-string" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>artifacts: Array&lt;string&gt;</code></h3>
<p>An array of <a href="https://github.com/isaacs/node-glob#readme">glob</a> paths to search for your artifacts.</p>
<pre><code class="hljs css language-js"><span class="hljs-built_in">module</span>.exports = {
  <span class="hljs-attr">artifacts</span>: [<span class="hljs-string">'./dist/**/*.js'</span>]
};
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="basedir-string-processcwd"></a><a href="#basedir-string-processcwd" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>baseDir?: string = process.cwd()</code></h3>
<p>A base directory option to calculate relative paths for your artifacts. This is most often useful for stripping off unwanted paths, like <code>dist</code>, though it must be an absolute path on your system. This can be most easily accomplished by using the <code>path</code> node API:</p>
<pre><code class="hljs css language-js"><span class="hljs-built_in">module</span>.exports = {
  <span class="hljs-attr">baseDir</span>: path.join(__dirname, <span class="hljs-string">'dist'</span>)
};
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="cwd-string-processcwd"></a><a href="#cwd-string-processcwd" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>cwd?: string = process.cwd()</code></h3>
<p>The command working directory. Set this to change the script working path to something else other than <code>process.cwd()</code></p>
<pre><code class="hljs css language-js"><span class="hljs-built_in">module</span>.exports = {
  <span class="hljs-attr">cwd</span>: path.join(__dirname, <span class="hljs-string">'..'</span>)
};
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="getfilenamehash-filename-string-string-void"></a><a href="#getfilenamehash-filename-string-string-void" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>getFilenameHash?: (filename: string) =&gt; string | void</code></h3>
<p>This optional method allows you to extract a filename hash from the built artifact filename. Many applications built with webpack will include a chunk hash in the filename for cache-busting reasons.</p>
<p>It's important to register filename hashes in Build Tracker builds foe each artifact to know if your service is requiring users to redownload files, even though their functional content has not changed.</p>
<p>For example, if your dist folder looks like this:</p>
<pre><code class="hljs">vendor<span class="hljs-selector-class">.a64785b</span><span class="hljs-selector-class">.js</span>
main.<span class="hljs-number">56</span>acd2e<span class="hljs-selector-class">.js</span>
</code></pre>
<p>You can extract the hash from the filename with a function:</p>
<pre><code class="hljs css language-js"><span class="hljs-built_in">module</span>.exports = {
  <span class="hljs-attr">getFilenameHash</span>: <span class="hljs-function"><span class="hljs-params">fileName</span> =&gt;</span> {
    <span class="hljs-keyword">const</span> parts = path.basename(fileName, <span class="hljs-string">'.js'</span>).split(<span class="hljs-string">'.'</span>);
    <span class="hljs-keyword">return</span> parts.length &gt; <span class="hljs-number">1</span> ? parts[parts.length - <span class="hljs-number">1</span>] : <span class="hljs-literal">null</span>;
  }
};
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="namemapper-filename-string-string"></a><a href="#namemapper-filename-string-string" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>nameMapper?: (filename: string) =&gt; string</code></h3>
<p>Similar to the <code>getFilenameHash</code> method above, you may want to strip out parts of the artifact filenames to make them more legible in reports and the application.</p>
<pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> filenameHash = <span class="hljs-function"><span class="hljs-params">fileName</span> =&gt;</span> {
  <span class="hljs-keyword">const</span> parts = path.basename(fileName, <span class="hljs-string">'.js'</span>).split(<span class="hljs-string">'.'</span>);
  <span class="hljs-keyword">return</span> parts.length &gt; <span class="hljs-number">1</span> ? parts[parts.length - <span class="hljs-number">1</span>] : <span class="hljs-literal">null</span>;
};

<span class="hljs-built_in">module</span>.exports = {
  <span class="hljs-attr">nameMapper</span>: <span class="hljs-function"><span class="hljs-params">fileName</span> =&gt;</span> {
    <span class="hljs-keyword">const</span> hash = filenameHash(fileName);
    <span class="hljs-keyword">const</span> out = fileName.replace(<span class="hljs-regexp">/\.js$/</span>, <span class="hljs-string">''</span>);
    <span class="hljs-keyword">return</span> hash ? out.replace(<span class="hljs-string">`.<span class="hljs-subst">${hash}</span>`</span>, <span class="hljs-string">''</span>) : out;
  }
};
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="oncompare-data-apiresponse-promise-void"></a><a href="#oncompare-data-apiresponse-promise-void" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>onCompare?: (data: APIResponse) =&gt; Promise&lt;void&gt;</code></h3>
<p>Take any action on the response from the API.</p>
<pre><code class="hljs css language-js"><span class="hljs-built_in">module</span>.exports = {
  <span class="hljs-attr">onCompare</span>: <span class="hljs-function"><span class="hljs-params">data</span> =&gt;</span> {
    <span class="hljs-comment">// send markdown response somewhere…</span>
    GithubApi.postComment(data.markdown);
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">Promise</span>.resolve();
  }
};
</code></pre>
</span></div></article></div><div class="docLastUpdate"><em>Last updated on 5/22/2019 by Paul Armstrong</em></div><div class="docs-prevnext"><a class="docs-prev button" href="/docs/configuration-app"><span class="arrow-prev">← </span><span>Application</span></a><a class="docs-next button" href="/docs/plugins/plugins"><span>Plugins</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#options">Options</a><ul class="toc-headings"><li><a href="#applicationurl-string"><code>applicationUrl: string</code></a></li><li><a href="#artifacts-array-string"><code>artifacts: Array</code></a></li><li><a href="#basedir-string-processcwd"><code>baseDir?: string = process.cwd()</code></a></li><li><a href="#cwd-string-processcwd"><code>cwd?: string = process.cwd()</code></a></li><li><a href="#getfilenamehash-filename-string-string-void"><code>getFilenameHash?: (filename: string) =&gt; string | void</code></a></li><li><a href="#namemapper-filename-string-string"><code>nameMapper?: (filename: string) =&gt; string</code></a></li><li><a href="#oncompare-data-apiresponse-promise-void"><code>onCompare?: (data: APIResponse) =&gt; Promise</code></a></li></ul></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/" class="nav-home"><img src="/img/logo.svg" alt="Build Tracker" width="66" height="58"/></a><div><h5>Docs</h5><a href="/docs/en/installation.html">Getting Started</a><a href="/docs/en/guides.html">Guides</a><a href="/docs/en/plugins.html">Plugins</a></div><div><h5>Community</h5><a href="/en/users.html">User Showcase</a><a href="http://stackoverflow.com/questions/tagged/build-tracker" target="_blank" rel="noreferrer noopener">Stack Overflow</a></div><div><h5>More</h5><a href="/blog">Blog</a><a href="https://github.com/paularmstrong/build-tracker">GitHub</a><a class="github-button" href="https://github.com/paularmstrong/build-tracker" data-icon="octicon-star" data-count-href="/paularmstrong/build-tracker/stargazers" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star this project on GitHub">Star</a></div></section><section class="copyright">Copyright © 2019 Paul Armstrong</section></footer></div></body></html>